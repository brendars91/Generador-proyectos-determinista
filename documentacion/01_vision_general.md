# 01. VisiÃ³n General - AGCCE Ultra v2.0

## ğŸ¯ Objetivo del Proyecto

AGCCE Ultra naciÃ³ de la necesidad de crear un **Copiloto de Desarrollo de Grado Industrial** que combine:

1. **Inteligencia Artificial Generativa** para planificaciÃ³n y debugging
2. **ValidaciÃ³n DeterminÃ­stica** para garantizar correcciÃ³n
3. **AutomatizaciÃ³n Enterprise** para escalabilidad
4. **Observabilidad Completa** para gobernanza

---

## ğŸ›ï¸ Principios Fundamentales

### 1. Zero-Trust Cognitivo
> "Toda salida de la IA debe ser verificada antes de ser aplicada"

- Los planes generados se validan contra schema JSON
- Los paths referenciados se verifican en el filesystem
- Las acciones de escritura requieren aprobaciÃ³n humana (HITL)

### 2. Determinismo
> "El mismo input siempre produce el mismo output"

- RAG basado en cÃ³digo local (fuente de verdad)
- Idempotencia via plan_id en todos los eventos
- Logs auditables en formato JSONL

### 3. Resiliencia
> "El sistema debe recuperarse de fallos sin intervenciÃ³n"

- Self-Correction Loop (3 reintentos)
- Retry con Backoff exponencial (1s, 5s, 15s)
- Cola local para eventos fallidos

### 4. Seguridad por DiseÃ±o
> "La seguridad no es un add-on, es la base"

- Snyk Hard Block en pre-commit
- Snyk-Diff Policy para dependencias
- ProhibiciÃ³n absoluta de bypass

---

## ğŸ“Š Arquitectura del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USUARIO                             â”‚
â”‚                    "Implementa X..."                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RAG INDEXER                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Incremental    â”‚  â”‚ Semantic       â”‚                    â”‚
â”‚  â”‚ Indexing       â”‚  â”‚ Search         â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PLAN GENERATOR                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Self-Correctionâ”‚  â”‚ Semantic       â”‚                    â”‚
â”‚  â”‚ Loop (3x)      â”‚  â”‚ Verification   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ORCHESTRATOR                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Pre-flight     â”‚  â”‚ HITL Gate      â”‚  â”‚ Evidence     â”‚  â”‚
â”‚  â”‚ Check          â”‚  â”‚ (Mandatory)    â”‚  â”‚ Collector    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PRE-COMMIT HOOK                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Lint Check     â”‚  â”‚ Snyk Code      â”‚  â”‚ Snyk-Diff    â”‚  â”‚
â”‚  â”‚                â”‚  â”‚ Scan           â”‚  â”‚ Policy       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 EVENT DISPATCHER                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Healthcheck    â”‚  â”‚ Retry +        â”‚  â”‚ System       â”‚  â”‚
â”‚  â”‚ Handshake      â”‚  â”‚ Backoff        â”‚  â”‚ Context      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      n8n                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Evidence       â”‚  â”‚ Error          â”‚  â”‚ Security     â”‚  â”‚
â”‚  â”‚ Reporter       â”‚  â”‚ Handler        â”‚  â”‚ Alerts       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                  â”‚
â”‚                          â–¼                                  â”‚
â”‚                   Slack / Email                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DASHBOARD                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Reliability    â”‚  â”‚ Performance    â”‚  â”‚ Security     â”‚  â”‚
â”‚  â”‚ Metrics        â”‚  â”‚ Metrics        â”‚  â”‚ Timeline     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Estructura del Proyecto

```
Agente Copilot Engine/
â”œâ”€â”€ .agent/                       # ConfiguraciÃ³n del agente
â”‚   â”œâ”€â”€ rules/                    # Reglas de comportamiento
â”‚   â”‚   â””â”€â”€ agcce_ultra_rules.md  # Reglas AGCCE Ultra
â”‚   â””â”€â”€ workflows/                # Workflows disponibles
â”‚       â”œâ”€â”€ auto-plan.md          # /auto-plan
â”‚       â”œâ”€â”€ ci-cd-hooks.md        # /ci-cd-hooks
â”‚       â”œâ”€â”€ docker-executor.md    # /docker-executor
â”‚       â”œâ”€â”€ git-protocol.md       # /git-protocol
â”‚       â”œâ”€â”€ plan-json-emit.md     # /plan-json-emit
â”‚       â”œâ”€â”€ pre-flight-check.md   # /pre-flight-check
â”‚       â””â”€â”€ rag-index.md          # /rag-index
â”‚
â”œâ”€â”€ config/                       # ConfiguraciÃ³n
â”‚   â”œâ”€â”€ bundle.json               # Bundle principal
â”‚   â””â”€â”€ n8n_webhooks.json         # URLs de webhooks
â”‚
â”œâ”€â”€ dashboard/                    # Dashboard de mÃ©tricas
â”‚   â””â”€â”€ index.html                # UI principal
â”‚
â”œâ”€â”€ documentacion/                # Esta documentaciÃ³n
â”‚
â”œâ”€â”€ examples/                     # Ejemplos
â”‚   â””â”€â”€ example_plan_auth_fix.json
â”‚
â”œâ”€â”€ logs/                         # Logs del sistema
â”‚   â”œâ”€â”€ telemetry.jsonl           # MÃ©tricas
â”‚   â”œâ”€â”€ events.jsonl              # Eventos
â”‚   â”œâ”€â”€ security_events.jsonl     # Eventos de seguridad
â”‚   â””â”€â”€ queue.jsonl               # Cola local
â”‚
â”œâ”€â”€ n8n/                          # Workflows n8n
â”‚   â”œâ”€â”€ evidence_report_sender.json
â”‚   â”œâ”€â”€ execution_error_handler.json
â”‚   â””â”€â”€ security_alert_handler.json
â”‚
â”œâ”€â”€ plans/                        # Planes generados
â”‚
â”œâ”€â”€ schemas/                      # Schemas JSON
â”‚   â””â”€â”€ AGCCE_Plan_v1.schema.json
â”‚
â”œâ”€â”€ scripts/                      # Scripts Python
â”‚   â”œâ”€â”€ collect_evidence.py
â”‚   â”œâ”€â”€ common.py
â”‚   â”œâ”€â”€ dashboard_server.py
â”‚   â”œâ”€â”€ doc_fetcher.py
â”‚   â”œâ”€â”€ event_dispatcher.py
â”‚   â”œâ”€â”€ hitl_gate.py
â”‚   â”œâ”€â”€ lint_check.py
â”‚   â”œâ”€â”€ metrics_collector.py
â”‚   â”œâ”€â”€ orchestrator.py
â”‚   â”œâ”€â”€ plan_generator.py
â”‚   â”œâ”€â”€ pre_commit_hook.py
â”‚   â”œâ”€â”€ rag_indexer.py
â”‚   â”œâ”€â”€ type_check.py
â”‚   â””â”€â”€ validate_plan.py
â”‚
â””â”€â”€ README.md                     # README principal
```

---

## ğŸ”— TecnologÃ­as Utilizadas

| TecnologÃ­a | PropÃ³sito |
|------------|-----------|
| **Python 3.7+** | Scripts y lÃ³gica principal |
| **Git** | Control de versiones |
| **Snyk CLI** | AnÃ¡lisis de seguridad |
| **n8n** | AutomatizaciÃ³n y notificaciones |
| **Chart.js** | VisualizaciÃ³n de mÃ©tricas |
| **MCP Servers** | IntegraciÃ³n con herramientas externas |

---

## ğŸ“… CronologÃ­a del Desarrollo

| Fase | DescripciÃ³n | Estado |
|------|-------------|--------|
| Fase 0 | AGCCE Core v1.1.0 | âœ… Completada |
| Fase 1 | RAG/AI Engine + Controles Insuperables | âœ… Completada |
| Fase 2 | Dashboard de MÃ©tricas (AGCCE-OBS-V1) | âœ… Completada |
| Fase 3 | n8n Integration (Webhook-First) | âœ… Completada |
| Final | Polish (Healthcheck, Retry, System Context) | âœ… Completada |
